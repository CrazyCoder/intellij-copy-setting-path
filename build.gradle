plugins {
    id 'java'
    id 'org.jetbrains.kotlin.jvm' version '2.3.0'
    id 'org.jetbrains.intellij.platform'
}

group = 'com.intellij.plugin.copy.setting.path'
version = '1.0'

java {
    sourceCompatibility = JavaVersion.VERSION_21
    targetCompatibility = JavaVersion.VERSION_21
}

repositories {
    mavenCentral()
    intellijPlatform {
        defaultRepositories()
    }
}

dependencies {
    intellijPlatform {
        intellijIdeaCommunity('2025.1.2')  // Use 2025.1.2 as 2025.3 is not yet released

        pluginVerifier()
        zipSigner()
        instrumentationTools()
    }
}

kotlin {
    jvmToolchain(21)
}

intellijPlatform {
    pluginConfiguration {
        name = 'CopySettingPath'

        ideaVersion {
            sinceBuild = '251'
            untilBuild = provider { null }
        }

        changeNotes = """
            Adds 'Copy Setting Path' action to copy full path to an option from IDE dialogs.<br>
        """
    }

    publishing {
        // Configure if you want to publish to JetBrains Marketplace
    }
}
